"use strict";require(["../scripts/config.js"],function(){require(["jquery"],function(M){function n(t){var a=M("#canvas").width(),o=M("#canvas").height(),n=document.getElementById("canvas"),r=n.getContext("2d");n.width=a,n.height=o;for(var e="A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0".split(","),i=e.length,l=0;l<=3;l++){var h=Math.floor(Math.random()*i),c=30*Math.random()*Math.PI/180,d=e[h];t[l]=d.toLowerCase();var f=10+20*l,s=20+8*Math.random();r.font="bold 23px 微软雅黑",r.translate(f,s),r.rotate(c),r.fillStyle=m(),r.fillText(d,0,0),r.rotate(-c),r.translate(-f,-s)}for(l=0;l<=5;l++)r.strokeStyle=m(),r.beginPath(),r.moveTo(Math.random()*a,Math.random()*o),r.lineTo(Math.random()*a,Math.random()*o),r.stroke();for(l=0;l<=30;l++){r.strokeStyle=m(),r.beginPath();f=Math.random()*a,s=Math.random()*o;r.moveTo(f,s),r.lineTo(f+1,s+1),r.stroke()}}function m(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}M(function(){var o=[];n(o),M("#canvas").on("click",function(){n(o)}),M(".btn").on("click",function(){var t=M(".input-val").val().toLowerCase(),a=o.join("");""==t?alert("请输入验证码！"):(t==a?alert("提交成功！"):alert("验证码错误！请重新输入！"),M(".input-val").val(""),n(o))})})})});